<!DOCTYPE html><html lang="jp" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Hexo Helper Shell Script | Memorandum!</title><meta name="author" content="ktkr3d"><meta name="copyright" content="ktkr3d"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Hexo をGUI で支援するスクリプトをzenity で書いてみました。">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo Helper Shell Script">
<meta property="og:url" content="https://ktkr3d.github.io/2015/02/05/Hexo-Helper-Shell-Script/index.html">
<meta property="og:site_name" content="Memorandum!">
<meta property="og:description" content="Hexo をGUI で支援するスクリプトをzenity で書いてみました。">
<meta property="og:locale">
<meta property="og:image" content="https://ktkr3d.github.io/images/hexo-helper.png">
<meta property="article:published_time" content="2015-02-05T13:41:30.000Z">
<meta property="article:modified_time" content="2015-02-05T13:41:30.000Z">
<meta property="article:author" content="ktkr3d">
<meta property="article:tag" content="hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ktkr3d.github.io/images/hexo-helper.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Hexo Helper Shell Script",
  "url": "https://ktkr3d.github.io/2015/02/05/Hexo-Helper-Shell-Script/",
  "image": "https://ktkr3d.github.io/images/hexo-helper.png",
  "datePublished": "2015-02-05T13:41:30.000Z",
  "dateModified": "2015-02-05T13:41:30.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "ktkr3d",
      "url": "https://ktkr3d.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/images/favicon.png"><link rel="canonical" href="https://ktkr3d.github.io/2015/02/05/Hexo-Helper-Shell-Script/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-MG6LWTJBY0"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'G-MG6LWTJBY0')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'G-MG6LWTJBY0', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":false,"highlightLang":false,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'medium_zoom',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: false,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Hexo Helper Shell Script',
  isHighlightShrink: undefined,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/custom.css"><script type="text/javascript" src="//www.google.com/jsapi"></script><meta name="generator" content="Hexo 8.1.1"><link rel="alternate" href="/rss.xml" title="Memorandum!" type="application/rss+xml">
</head><body><div class="bg-animation" id="web_bg" style="background-color: rgb(227, 233, 199);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">487</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">197</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">31</div></a></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> Pages</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page child" href="/archlinux/"><i class="fa-fw fa-solid fa-a"></i><span> Arch Linux</span></a></li><li><a class="site-page child" href="/GNOME/"><i class="fa-fw fa-solid fa-g"></i><span> GNOME</span></a></li><li><a class="site-page child" href="/hexo/"><i class="fa-fw fa-solid fa-h"></i><span> Hexo</span></a></li><li><a class="site-page child" href="/To-Do/"><i class="fa-fw fa-solid fa-list"></i><span> To Do</span></a></li><li><a class="site-page child" href="/ubuntu/"><i class="fa-fw fa-brands fa-ubuntu"></i><span> Ubuntu</span></a></li><li><a class="site-page child" href="/Visual-Studio-Code/"><i class="fa-fw fa-solid fa-code"></i><span> Visual Studio Code</span></a></li><li><a class="site-page child" href="/World-of-Warcraft/"><i class="fa-fw fa-solid fa-gamepad"></i><span> World of Warcraft</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img fixed" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Memorandum!</span></a><a class="nav-page-title" href="/"><span class="site-name">Hexo Helper Shell Script</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> Pages</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page child" href="/archlinux/"><i class="fa-fw fa-solid fa-a"></i><span> Arch Linux</span></a></li><li><a class="site-page child" href="/GNOME/"><i class="fa-fw fa-solid fa-g"></i><span> GNOME</span></a></li><li><a class="site-page child" href="/hexo/"><i class="fa-fw fa-solid fa-h"></i><span> Hexo</span></a></li><li><a class="site-page child" href="/To-Do/"><i class="fa-fw fa-solid fa-list"></i><span> To Do</span></a></li><li><a class="site-page child" href="/ubuntu/"><i class="fa-fw fa-brands fa-ubuntu"></i><span> Ubuntu</span></a></li><li><a class="site-page child" href="/Visual-Studio-Code/"><i class="fa-fw fa-solid fa-code"></i><span> Visual Studio Code</span></a></li><li><a class="site-page child" href="/World-of-Warcraft/"><i class="fa-fw fa-solid fa-gamepad"></i><span> World of Warcraft</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Hexo Helper Shell Script</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2015-02-05T13:41:30.000Z" title="Created 2015-02-05 22:41:30">2015-02-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2015-02-05T13:41:30.000Z" title="Updated 2015-02-05 22:41:30">2015-02-05</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/cms/">cms</a></span></div><div class="meta-secondline"></div></div></div><article class="container post-content" id="article-container"><p><img src="/images/hexo-helper.png" alt="hexo-helper" title="hexo-helper"></p>
<p>Hexo をGUI で支援するスクリプトをzenity で書いてみました。</p>
<span id="more"></span>

<h2 id="シェルスクリプト"><a href="#シェルスクリプト" class="headerlink" title="シェルスクリプト"></a>シェルスクリプト</h2><p>コマンドラインでHEXO を操作できる環境が整っていることが前提です。</p>
<figure class="highlight bash"><figcaption><span>/PATH/TO/hexo-helper.sh</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">[[ -s <span class="string">&quot;<span class="variable">$HOME</span>/.nvm/nvm.sh&quot;</span> ]] &amp;&amp; . <span class="string">&quot;<span class="variable">$HOME</span>/.nvm/nvm.sh&quot;</span></span><br><span class="line">nvm use v0.10 &gt; /dev/null</span><br><span class="line"><span class="built_in">export</span> NODE_PATH=<span class="variable">$&#123;NVM_PATH&#125;</span>_modules</span><br><span class="line"></span><br><span class="line">SOURCE_REPOSITORY=bitbucket</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> -lt 1 ] ; <span class="keyword">then</span></span><br><span class="line">	zenity --error --text=<span class="string">&quot;Usage: hexo-helper.sh hexo_path&quot;</span></span><br><span class="line">	<span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">HEXODIR=<span class="variable">$1</span></span><br><span class="line"><span class="keyword">if</span> ! [ -d <span class="variable">$HEXODIR</span> ] ; <span class="keyword">then</span></span><br><span class="line">    zenity --error --text=<span class="string">&quot;Bad directory.&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$HEXODIR</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> :</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	count=`ps -ef | grep <span class="string">&quot;hexo server&quot;</span> | grep -v grep | <span class="built_in">wc</span> -l`</span><br><span class="line">	<span class="keyword">if</span> [ <span class="variable">$count</span> = 0 ]; <span class="keyword">then</span></span><br><span class="line">		hexoserverstatus=<span class="string">&quot;[DOWN]&quot;</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		hexoserverstatus=<span class="string">&quot;[UP]&quot;</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	pick=$(zenity --list --radiolist \</span><br><span class="line">			--title <span class="string">&quot;Hexo Helper&quot;</span> --text <span class="string">&quot;<span class="variable">$HEXODIR</span>&quot;</span> \</span><br><span class="line">			--width=240 --height=320 \</span><br><span class="line">			--column Pick --column dummy --column Action --hide-column 2 --print-column=2 \</span><br><span class="line">			<span class="literal">true</span>  0 <span class="string">&quot;New Post&quot;</span> \</span><br><span class="line">			<span class="literal">false</span> 1 <span class="string">&quot;New Page&quot;</span> \</span><br><span class="line">			<span class="literal">false</span> 2 <span class="string">&quot;Generate&quot;</span> \</span><br><span class="line">			<span class="literal">false</span> 3 <span class="string">&quot;Deploy&quot;</span> \</span><br><span class="line">			<span class="literal">false</span> 4 <span class="string">&quot;Start Server&quot;</span> \</span><br><span class="line">			<span class="literal">false</span> 5 <span class="string">&quot;<span class="variable">$hexoserverstatus</span> Preview&quot;</span> \</span><br><span class="line">			<span class="literal">false</span> 6 <span class="string">&quot;Stop Server&quot;</span> \</span><br><span class="line">			<span class="literal">false</span> 7 <span class="string">&quot;Open Posts Folder&quot;</span> \</span><br><span class="line">			<span class="literal">false</span> 8 <span class="string">&quot;Push Source&quot;</span>);</span><br><span class="line">	<span class="keyword">case</span> <span class="variable">$pick</span> <span class="keyword">in</span></span><br><span class="line">		<span class="string">&quot;0&quot;</span>)</span><br><span class="line">			post_title=`zenity --entry --title=<span class="string">&quot;New Post&quot;</span> --text=<span class="string">&quot;Enter Title.&quot;</span>`</span><br><span class="line">			<span class="keyword">if</span> [ $? -ne 0 ] ; <span class="keyword">then</span></span><br><span class="line">				<span class="built_in">continue</span></span><br><span class="line">			<span class="keyword">fi</span></span><br><span class="line">			<span class="keyword">if</span> [ <span class="variable">$&#123;#post_title&#125;</span> &gt; 0 ] ; <span class="keyword">then</span></span><br><span class="line">				hexo new <span class="string">&quot;<span class="variable">$post_title</span>&quot;</span> | \</span><br><span class="line">					sed -r <span class="string">&quot;s/\x1B\[([0-9]&#123;1,2&#125;(;[0-9]&#123;1,2&#125;)?)?[m|K]//g&quot;</span> | \</span><br><span class="line">						zenity --text-info --title=<span class="string">&quot;New Post&quot;</span> --width=640 --height=480 --auto-scroll</span><br><span class="line">			<span class="keyword">fi</span></span><br><span class="line">			;;</span><br><span class="line">		<span class="string">&quot;1&quot;</span>) </span><br><span class="line">			page_title=$(zenity --entry --title=<span class="string">&quot;New Page&quot;</span> --text=<span class="string">&quot;Enter Title.&quot;</span> )</span><br><span class="line">			<span class="keyword">if</span> [ <span class="variable">$&#123;#page_title&#125;</span> &gt; 0 ] ; <span class="keyword">then</span></span><br><span class="line">				hexo new page <span class="string">&quot;<span class="variable">$page_title</span>&quot;</span> | \</span><br><span class="line">					sed -r <span class="string">&quot;s/\x1B\[([0-9]&#123;1,2&#125;(;[0-9]&#123;1,2&#125;)?)?[m|K]//g&quot;</span> | \</span><br><span class="line">						zenity --text-info --title=<span class="string">&quot;New Page&quot;</span> --width=640 --height=480 --auto-scroll</span><br><span class="line">			<span class="keyword">fi</span></span><br><span class="line">			;;</span><br><span class="line">		<span class="string">&quot;2&quot;</span>)</span><br><span class="line">			(<span class="built_in">echo</span> <span class="string">&quot;Generating...&quot;</span> ; hexo generate ) | \</span><br><span class="line">				zenity --text-info --title=<span class="string">&quot;Generate&quot;</span> --width=640 --height=480 --auto-scroll</span><br><span class="line">			;;</span><br><span class="line">		<span class="string">&quot;3&quot;</span>)</span><br><span class="line">			(<span class="built_in">echo</span> <span class="string">&quot;Deploying...&quot;</span> ; hexo deploy ) | \</span><br><span class="line">				sed -r <span class="string">&quot;s/\x1B\[([0-9]&#123;1,2&#125;(;[0-9]&#123;1,2&#125;)?)?[m|K]//g&quot;</span> | \</span><br><span class="line">					zenity --text-info --title=<span class="string">&quot;Deploy&quot;</span> --width=640 --height=480 --auto-scroll</span><br><span class="line">			;;</span><br><span class="line">		<span class="string">&quot;4&quot;</span>)</span><br><span class="line">			count=`ps -ef | grep <span class="string">&quot;hexo server&quot;</span> | grep -v grep | <span class="built_in">wc</span> -l`</span><br><span class="line">			<span class="keyword">if</span> [ <span class="variable">$count</span> = 0 ]; <span class="keyword">then</span></span><br><span class="line">				hexo server &amp;</span><br><span class="line">				<span class="keyword">for</span> i <span class="keyword">in</span> `<span class="built_in">seq</span> 0 5 100`; <span class="keyword">do</span> <span class="built_in">echo</span> <span class="variable">$i</span>; <span class="built_in">sleep</span> 0.25; <span class="keyword">done</span> | zenity --progress --text <span class="string">&quot;Starting Server...&quot;</span> --auto-close --no-cancel</span><br><span class="line">			<span class="keyword">fi</span></span><br><span class="line">			;;</span><br><span class="line">		<span class="string">&quot;5&quot;</span>)</span><br><span class="line">			xdg-open http://localhost:4000/ &amp;</span><br><span class="line">			;;</span><br><span class="line">		<span class="string">&quot;6&quot;</span>)</span><br><span class="line">			count=`ps -ef | grep <span class="string">&quot;hexo server&quot;</span> | grep -v grep | <span class="built_in">wc</span> -l`</span><br><span class="line">			<span class="keyword">if</span> [ <span class="variable">$count</span> != 0 ]; <span class="keyword">then</span></span><br><span class="line">				<span class="built_in">kill</span> -9 `ps -ef | grep <span class="string">&quot;hexo server&quot;</span> | grep -v grep | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>`</span><br><span class="line">				<span class="keyword">for</span> i <span class="keyword">in</span> `<span class="built_in">seq</span> 0 5 100`; <span class="keyword">do</span> <span class="built_in">echo</span> <span class="variable">$i</span>; <span class="built_in">sleep</span> 0.25; <span class="keyword">done</span> | zenity --progress --text <span class="string">&quot;Stopping Server...&quot;</span> --auto-close --no-cancel</span><br><span class="line">			<span class="keyword">fi</span></span><br><span class="line">			;;</span><br><span class="line">		<span class="string">&quot;7&quot;</span>)</span><br><span class="line">			xdg-open <span class="variable">$HEXODIR</span>/source/_posts/ &amp;</span><br><span class="line">			;;</span><br><span class="line">		<span class="string">&quot;8&quot;</span>)</span><br><span class="line">			git add . &amp;&amp; git commit -m <span class="string">&#x27;update&#x27;</span> &amp;&amp; git push -u <span class="variable">$SOURCE_REPOSITORY</span> <span class="built_in">source</span> | \</span><br><span class="line">				sed -r <span class="string">&quot;s/\x1B\[([0-9]&#123;1,2&#125;(;[0-9]&#123;1,2&#125;)?)?[m|K]//g&quot;</span> | \</span><br><span class="line">					zenity --text-info --title=<span class="string">&quot;Push Source&quot;</span> --width=640 --height=480 --auto-scroll</span><br><span class="line">			;;</span><br><span class="line">		*)</span><br><span class="line">			<span class="built_in">exit</span> 0</span><br><span class="line">			;;</span><br><span class="line">	<span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h2 id="アプリケーションメニュー"><a href="#アプリケーションメニュー" class="headerlink" title="アプリケーションメニュー"></a>アプリケーションメニュー</h2><figure class="highlight text"><figcaption><span>~/.local/share/applications/hexo-helper.desktop</span></figcaption><table><tr><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Encoding=UTF-8</span><br><span class="line">Name=Hexo Helper</span><br><span class="line">Exec=/PATH/TO/hexo-helper.sh /PATH/TO/HEXODIR</span><br><span class="line">Icon=/PATH/TO/hexo-helper-icon.png</span><br><span class="line">Terminal=false</span><br><span class="line">Type=Application</span><br><span class="line">Categories=Application;</span><br><span class="line">StartupNotify=false</span><br></pre></td></tr></table></figure>

<h2 id="アイコン"><a href="#アイコン" class="headerlink" title="アイコン"></a>アイコン</h2><p><img src="/images/hexo-helper-icon.png" alt="hexo-helper-icon" title="hexo-helper-icon"></p>
<h2 id="Generate-画面"><a href="#Generate-画面" class="headerlink" title="Generate 画面"></a>Generate 画面</h2><p><img src="/images/hexo-helper-generate.png" alt="hexo-helper-generate" title="hexo-helper-generate"></p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/hexo/">hexo</a></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2015/02/08/HandBrakeCLI/" title="HandBrakeCLI"><img class="cover" src="https://handbrake.fr/img/logo.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">HandBrakeCLI</div></div><div class="info-2"><div class="info-item-1"> https://handbrake.fr/ HandBrake は動画ファイルの形式を変換するソフトウェアです。HandBrake を使って動画ファイルをコマンドラインでエンコードするスクリプトを書いてみました。   処理の概要 HandBrake のコマンドラインインタフェースHandBrakeCLI を使用します。 HandBrake のUniversal というプリセットを使って、M2TS 形式をMP4 に変換します。 変換元ディレクトリにあるファイルを変換して、変換先ディレクトリに格納します。 すでに変換したファイルはスキップします。 変換元ディレクトリの中のファイルが最近(10分以内)更新されている場合は処理の開始をスキップします。  HandBrakeCLI のインストール$ sudo add-apt-repository  ppa:stebbins/handbrake-releases$ sudo apt-get update$ sudo apt-get install handbrake-cli  変換スクリプトm2ts2m4v.sh#!/bin/bashSRC...</div></div></div></a><a class="pagination-related" href="/2015/01/31/Octopress-to-Hexo/" title="Octopress to Hexo"><img class="cover" src="/images/hexo-logo.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Octopress to Hexo</div></div><div class="info-2"><div class="info-item-1"> http://hexo.io/http://hexo.io/docs/https://github.com/wzpan/hexo-theme-freemind ブログをOctopress からHexo に変更してみました。   node.js のインストール$ sudo apt-get install build-essential libssl-dev curl git$ git clone git://github.com/creationix/nvm.git ~/.nvm$ source ~/.nvm/nvm.sh$ nvm install v0.10  ~/.bashrc[[ -s &quot;$HOME/.nvm/nvm.sh&quot; ]] &amp;&amp; . &quot;$HOME/.nvm/nvm.sh&quot;nvm use v0.10 &gt; /dev/nullexport NODE_PATH=$&#123;NVM_PATH&#125;_modules  Hexo のインストール$ npm install -g hexo$ hexo init h...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2019/06/26/Hexo-Tag-Google-Charts/" title="Hexo Tag Google Charts"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2019-06-26</div><div class="info-item-2">Hexo Tag Google Charts</div></div><div class="info-2"><div class="info-item-1">https://github.com/juampi92/hexo-tag-googlechartshttps://developers.google.com/chart/interactive/docs/galleryhexo-tag-googlecharts を使ってチャートを表示してみました。 Google Charts を直接Javascript から使うよりも簡単に利用できて便利です。カスタマイズに少しコツが必要なのでよく使う構成をテンプレートとして作っておくとよさそうです。     if (!window.google) {     document.body.innerHTML = 'You need to include the script //google.com/jsapi on your template';     throw 'Google JS API is needed';   } else {     (function() {       google.load('visualization', '1.0', {'packages': ["cor...</div></div></div></a><a class="pagination-related" href="/2023/12/02/Hexo-7-0-freemind/" title="Hexo 7.0 + Freemind + Travel"><img class="cover" src="/images/hexo-freemind-travel.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-02</div><div class="info-item-2">Hexo 7.0 + Freemind + Travel</div></div><div class="info-2"><div class="info-item-1">https://hexo.io/news/2023/11/03/hexo-7-0-0-released/https://github.com/wzpan/hexo-theme-freemind/https://github.com/ktkr3d/hexo-theme-freemind-travel Hexo 7.0 がリリースされたので新規に環境を構築してみよう。FreemindテーマとTravelカラーテーマを設定します。   環境 WSL(Ubuntu 22.04) on Windows 11 nodejs v20.10.0 npm 10.2.3 hexo 7.0.0  構築 Hexo 7.0のインストールhttps://hexo.io/  npm install hexo-cli -ghexo init blogcd blognpm install   Freemind テーマのインストールhttps://github.com/wzpan/hexo-theme-freemind  git clone https://github.com/wzpan/hexo-theme-f...</div></div></div></a><a class="pagination-related" href="/2020/01/17/Hexo-4-2-0/" title="Hexo 4.2.0"><img class="cover" src="https://hexo.io/icon/favicon-196x196.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2020-01-17</div><div class="info-item-2">Hexo 4.2.0</div></div><div class="info-2"><div class="info-item-1"> https://hexo.io/news/2019/12/22/hexo-4.2_hexo-util-1-8_eslint-config-hexo-released/ https://hexo.io/news/2019/12/24/how-we-make-hexo-30-percent-faster/  Hexo 4.2 が速いらしいのでWSL1&#x2F;WSL2 上に環境を構築してみました。確かに速い気がします。   環境 WSL1(Ubuntu 18.04) on Windows 10 WSL2(Ubuntu 18.04) on Windows 10 node v13.6.0 npm 6.13.4 git 2.17.1 hexo 4.2.0  構築node$ sudo apt update &amp;&amp; sudo apt upgrade$ sudo apt install nodejs npm$ sudo npm clean all$ sudo npm install n$ sudo n latest$ sudo ln -sf /usr/local/bin/nod...</div></div></div></a><a class="pagination-related" href="/2020/08/03/Hexo-5-0-0/" title="Hexo 5.0.0"><img class="cover" src="https://hexo.io/icon/favicon-196x196.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-03</div><div class="info-item-2">Hexo 5.0.0</div></div><div class="info-2"><div class="info-item-1">https://hexo.io/news/2020/07/29/hexo-5-released/ Hexo 5.0.0 がリリースされていたので導入してみました。  さらに高速になったようです。 メモリ使用量が減った気がします。 フロントマターにpublished: falseを設定できるようになりました。以下を追記しました。./scalfolds/post.mdpublished: true    環境 Windows Insider Preview Build 20180 WSL (Ubuntu) n 6.5.1 node v14.7.0 npm 6.14.7 hexo 5.0.0        構築 バックアップ    $ mv blog _blog  node の更新    $ n latest$ node --versionv14.7.0$ npm --version6.14.7$ n --version6.5.1  Hexo のインストール    $ npm install hexo  blog の初期化    $ npx hexo init blog$ cd blo...</div></div></div></a><a class="pagination-related" href="/2019/05/25/Hexo-filter-mermaid-diagrams/" title="HexoでMermaidダイアグラム"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2019-05-25</div><div class="info-item-2">HexoでMermaidダイアグラム</div></div><div class="info-2"><div class="info-item-1">     graph LR;     linkStyle default interpolate basis     A(ONU)-- IPv6 --&gt;B(v6対応ルータ);     B--&gt;C[物理PC];     C--&gt;D[仮想サーバ];     B--&gt;E[ノートPC]     B--&gt;F(一般ルータ);     F--&gt;B;     F--&gt;G[OpenVPNサーバ];      https://mermaidjs.github.io/ https://github.com/webappdevelp/hexo-filter-mermaid-diagrams https://wangxiaoyu-go.github.io/2018/11/23/hexo-filter-mermaid-diagrams/  Hexo でMermaid ダイアグラムを書いてみました。 2025-03-22 追記 テーマ変更に伴い、今後hexo-theme-butterflyのタグプラグインに書き換えが必要 一旦ダークテーマにして戻すと正しく表示されるが...</div></div></div></a><a class="pagination-related" href="/2019/08/14/Hexo-App-Template-on-RPi4-64bit/" title="Hexo App Template"><img class="cover" src="/images/app-template-hexo.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2019-08-14</div><div class="info-item-2">Hexo App Template</div></div><div class="info-2"><div class="info-item-1">Portainer には41 個のApp Template が登録されていますが、独自に追加することもできるようになっています。App Template にHexo を追加してみました。 Portainer のApp Template には3種類あります。  Container (DockerHub) Swarm stack (Swarm) Compose stack (Compose)  Container 型でDockerHub のHexo をデプロイしようとしましたが、aarch64 の環境では失敗してしまいました。そのため、ローカルビルドするようなCompose 型スクリプトで登録することにしました。Raspberry Pi 4B 環境でデプロイが完了する迄に5分くらいかかりました。   環境 Raspberry Pi 4B Ubuntu Server 19.10 aarch64 Docker 19.03.1, build 74b1e89 Docker Compose 1.21.0 Portainer 1.22.0  Portainer の操作App Template の...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comments</span></div></div><div class="comment-wrap"><div><div id="utterances-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">ktkr3d</div><div class="author-info-description">Memorandum</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">487</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">197</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">31</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/ktkr3d"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/ktkr3d" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="https://gist.github.com/ktkr3d" target="_blank" title="Gist"><i class="fas fa-code" style="color: #24292e;"></i></a><a class="social-icon" href="https://x.com/ktkr3d" target="_blank" title="X"><i class="fab fa-x-twitter" style="color: #24292e;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%82%B7%E3%82%A7%E3%83%AB%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88"><span class="toc-number">1.</span> <span class="toc-text">シェルスクリプト</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%A1%E3%83%8B%E3%83%A5%E3%83%BC"><span class="toc-number">2.</span> <span class="toc-text">アプリケーションメニュー</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3"><span class="toc-number">3.</span> <span class="toc-text">アイコン</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Generate-%E7%94%BB%E9%9D%A2"><span class="toc-number">4.</span> <span class="toc-text">Generate 画面</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/06/Faugus-Launcher/" title="Faugus Launcher">Faugus Launcher</a><time datetime="2025-12-06T06:14:20.000Z" title="Created 2025-12-06 15:14:20">2025-12-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/01/SDDM/" title="SDDM">SDDM</a><time datetime="2025-12-01T08:35:57.000Z" title="Created 2025-12-01 17:35:57">2025-12-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/30/Walker/" title="Walker">Walker</a><time datetime="2025-11-30T13:18:02.000Z" title="Created 2025-11-30 22:18:02">2025-11-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/29/CachyOS/" title="CachyOS">CachyOS</a><time datetime="2025-11-28T23:05:23.000Z" title="Created 2025-11-29 08:05:23">2025-11-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/17/Caelestia/" title="Caelestia">Caelestia</a><time datetime="2025-11-17T13:18:22.000Z" title="Created 2025-11-17 22:18:22">2025-11-17</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/images/travel.png);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2010 - 2025 By ktkr3d</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll to Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null
  const getUtterancesTheme = theme => theme === 'dark' ? 'photon-dark' : 'github-light'

  const loadUtterances = (el = document, key) => {
    if (isShuoshuo) {
      window.shuoshuoComment.destroyUtterances = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    const config = {
      src: 'https://utteranc.es/client.js',
      repo: 'ktkr3d/ktkr3d.github.io',
      theme: getUtterancesTheme(document.documentElement.getAttribute('data-theme')),
      crossorigin: 'anonymous',
      async: true,
      ...option,
      'issue-term': isShuoshuo ? key : (option && option['issue-term']) || 'pathname'
    }

    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => ele.setAttribute(key, value))
    el.querySelector('#utterances-wrap').appendChild(ele)
  }

  const changeUtterancesTheme = theme => {
    const iframe = document.querySelector('#utterances-wrap iframe')
    if (iframe) {
      const message = {
        type: 'set-theme',
        theme: getUtterancesTheme(theme)
      };
      iframe.contentWindow.postMessage(message, 'https://utteranc.es')
    }
  }

  btf.addGlobalFn('themeChange', changeUtterancesTheme, 'utterances')

  if (isShuoshuo) {
    'Utterances' === 'Utterances'
      ? window.shuoshuoComment = { loadComment: loadUtterances }
      : window.loadOtherComment = loadUtterances
    return
  }
  
  if ('Utterances' === 'Utterances' || !false) {
    if (false) btf.loadComment(document.getElementById('utterances-wrap'), loadUtterances)
    else loadUtterances()
  } else {
    window.loadOtherComment = loadUtterances
  }
})()</script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="local-search-input"><input placeholder="Search for Posts" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>