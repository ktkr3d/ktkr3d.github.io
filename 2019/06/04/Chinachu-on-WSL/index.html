<!DOCTYPE html><html lang="jp" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>WSL でChinachu | Memorandum!</title><meta name="author" content="ktkr3d"><meta name="copyright" content="ktkr3d"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="https:&#x2F;&#x2F;github.com&#x2F;Chinachu&#x2F;Chinachu&#x2F;wiki&#x2F;Gamma-Installation-V2 Chinachu がWSL (Ubuntu 18.04)で普通に動きました。">
<meta property="og:type" content="article">
<meta property="og:title" content="WSL でChinachu">
<meta property="og:url" content="https://ktkr3d.github.io/2019/06/04/Chinachu-on-WSL/index.html">
<meta property="og:site_name" content="Memorandum!">
<meta property="og:description" content="https:&#x2F;&#x2F;github.com&#x2F;Chinachu&#x2F;Chinachu&#x2F;wiki&#x2F;Gamma-Installation-V2 Chinachu がWSL (Ubuntu 18.04)で普通に動きました。">
<meta property="og:locale">
<meta property="og:image" content="https://ktkr3d.github.io/images/avatar.png">
<meta property="article:published_time" content="2019-06-04T12:41:28.000Z">
<meta property="article:modified_time" content="2019-06-04T12:41:28.000Z">
<meta property="article:author" content="ktkr3d">
<meta property="article:tag" content="chinachu">
<meta property="article:tag" content="wsl">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ktkr3d.github.io/images/avatar.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "WSL でChinachu",
  "url": "https://ktkr3d.github.io/2019/06/04/Chinachu-on-WSL/",
  "image": "https://ktkr3d.github.io/images/avatar.png",
  "datePublished": "2019-06-04T12:41:28.000Z",
  "dateModified": "2019-06-04T12:41:28.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "ktkr3d",
      "url": "https://ktkr3d.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/images/favicon.png"><link rel="canonical" href="https://ktkr3d.github.io/2019/06/04/Chinachu-on-WSL/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":false,"highlightLang":false,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'medium_zoom',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: false,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'WSL でChinachu',
  isHighlightShrink: undefined,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/custom.css"><script type="text/javascript" src="//www.google.com/jsapi"></script><meta name="generator" content="Hexo 8.1.1"><link rel="alternate" href="/rss.xml" title="Memorandum!" type="application/rss+xml">
</head><body><div class="bg-animation" id="web_bg" style="background-color: rgb(227, 233, 199);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">490</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">201</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">31</div></a></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> Pages</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page child" href="/archlinux/"><i class="fa-fw fa-solid fa-a"></i><span> Arch Linux</span></a></li><li><a class="site-page child" href="/GNOME/"><i class="fa-fw fa-solid fa-g"></i><span> GNOME</span></a></li><li><a class="site-page child" href="/hexo/"><i class="fa-fw fa-solid fa-h"></i><span> Hexo</span></a></li><li><a class="site-page child" href="/To-Do/"><i class="fa-fw fa-solid fa-list"></i><span> To Do</span></a></li><li><a class="site-page child" href="/ubuntu/"><i class="fa-fw fa-brands fa-ubuntu"></i><span> Ubuntu</span></a></li><li><a class="site-page child" href="/Visual-Studio-Code/"><i class="fa-fw fa-solid fa-code"></i><span> Visual Studio Code</span></a></li><li><a class="site-page child" href="/World-of-Warcraft/"><i class="fa-fw fa-solid fa-gamepad"></i><span> World of Warcraft</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img fixed" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Memorandum!</span></a><a class="nav-page-title" href="/"><span class="site-name">WSL でChinachu</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> Pages</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page child" href="/archlinux/"><i class="fa-fw fa-solid fa-a"></i><span> Arch Linux</span></a></li><li><a class="site-page child" href="/GNOME/"><i class="fa-fw fa-solid fa-g"></i><span> GNOME</span></a></li><li><a class="site-page child" href="/hexo/"><i class="fa-fw fa-solid fa-h"></i><span> Hexo</span></a></li><li><a class="site-page child" href="/To-Do/"><i class="fa-fw fa-solid fa-list"></i><span> To Do</span></a></li><li><a class="site-page child" href="/ubuntu/"><i class="fa-fw fa-brands fa-ubuntu"></i><span> Ubuntu</span></a></li><li><a class="site-page child" href="/Visual-Studio-Code/"><i class="fa-fw fa-solid fa-code"></i><span> Visual Studio Code</span></a></li><li><a class="site-page child" href="/World-of-Warcraft/"><i class="fa-fw fa-solid fa-gamepad"></i><span> World of Warcraft</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">WSL でChinachu</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2019-06-04T12:41:28.000Z" title="Created 2019-06-04 21:41:28">2019-06-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2019-06-04T12:41:28.000Z" title="Updated 2019-06-04 21:41:28">2019-06-04</time></span></div><div class="meta-secondline"></div></div></div><article class="container post-content" id="article-container"><p><a target="_blank" rel="noopener" href="https://github.com/Chinachu/Chinachu/wiki/Gamma-Installation-V2">https://github.com/Chinachu/Chinachu/wiki/Gamma-Installation-V2</a></p>
<p>Chinachu がWSL (Ubuntu 18.04)で普通に動きました。</p>
<span id="more"></span>

<h3 id="現在の環境"><a href="#現在の環境" class="headerlink" title="現在の環境"></a>現在の環境</h3><ul>
<li>Windows 10</li>
<li>Windows 10 でMirakurun を導入済</li>
<li>WSL (Ubuntu 18.04 が導入済でデフォルト)を導入済</li>
<li>WSL でnode.js を導入済</li>
</ul>
<h3 id="WSL-でChinachu-のインストール"><a href="#WSL-でChinachu-のインストール" class="headerlink" title="WSL でChinachu のインストール"></a>WSL でChinachu のインストール</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt-get install build-essential curl git-core vainfo</span><br><span class="line">$ <span class="built_in">sudo</span> npm install pm2 -g</span><br><span class="line">$ <span class="built_in">sudo</span> pm2 startup</span><br><span class="line">$ git <span class="built_in">clone</span> git://github.com/kanreisa/Chinachu.git ~/chinachu</span><br><span class="line">$ <span class="built_in">cd</span> ~/chinachu/</span><br><span class="line">$ ./chinachu installer</span><br><span class="line">$ <span class="built_in">cp</span> config.sample.json config.json</span><br></pre></td></tr></table></figure>

<h3 id="chinachu-config-json-の設定"><a href="#chinachu-config-json-の設定" class="headerlink" title="~&#x2F;chinachu&#x2F;config.json の設定"></a>~&#x2F;chinachu&#x2F;config.json の設定</h3><ul>
<li>uid<br>自分の$USER を設定</li>
<li>mirakurunPath<br>“<a target="_blank" rel="noopener" href="http://192.168.11.2:40772/">http://192.168.11.2:40772/</a>“</li>
<li>recordedDir<br>録画ファイルを格納しているパスを指定 (例えば &#x2F;mnt&#x2F;d&#x2F; の下位のパス)</li>
<li>wuiUsers<br>空にする</li>
</ul>
<h3 id="録画フォルダおよび録画履歴ファイルの移行"><a href="#録画フォルダおよび録画履歴ファイルの移行" class="headerlink" title="録画フォルダおよび録画履歴ファイルの移行"></a>録画フォルダおよび録画履歴ファイルの移行</h3><ul>
<li>config.json 内のrecordedDir 下の動画ファイルを移行後のrecordedDir フォルダに移動<br>私は同じフォルダなので特に移動しませんでした。</li>
<li>.&#x2F;chinachu&#x2F;data&#x2F;recorded.json の中の動画ファイルのパスを一括置換</li>
</ul>
<h3 id="起動"><a href="#起動" class="headerlink" title="起動"></a>起動</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> [] &gt; rules.json</span><br><span class="line">$ ./chinachu service wui execute</span><br><span class="line"><span class="comment"># 問題なく起動できたらCtrl+\で終了</span></span><br><span class="line">$ ./chinachu update</span><br><span class="line"><span class="comment"># EPG取得テスト（エラーが出た場合は恐らく Mirakurun に接続できていません）</span></span><br><span class="line">$ <span class="built_in">sudo</span> pm2 start processes.json</span><br><span class="line">$ <span class="built_in">sudo</span> pm2 save</span><br></pre></td></tr></table></figure>

<h3 id="起動シェルの作成"><a href="#起動シェルの作成" class="headerlink" title="起動シェルの作成"></a>起動シェルの作成</h3><figure class="highlight bash"><figcaption><span>~/bin/startup.sh</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /home/hoge/chinachu</span><br><span class="line"><span class="built_in">sudo</span> /usr/bin/pm2 restart processes.json</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">chmod</span> 755 ~/bin/startup.sh</span><br></pre></td></tr></table></figure>

<h3 id="visudo-の設定"><a href="#visudo-の設定" class="headerlink" title="visudo の設定"></a>visudo の設定</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> visudo</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><figcaption><span>visudoの追加行</span></figcaption><table><tr><td class="code"><pre><span class="line">%<span class="built_in">sudo</span> ALL=NOPASSWD: /usr/bin/pm2</span><br></pre></td></tr></table></figure>

<h3 id="Windows-起動時に自動実行する設定"><a href="#Windows-起動時に自動実行する設定" class="headerlink" title="Windows 起動時に自動実行する設定"></a>Windows 起動時に自動実行する設定</h3><ol>
<li>ファイル名を指定して実行<br> <code>taskschd.msc</code></li>
<li>基本タスクの作成</li>
<li>名前を指定</li>
<li>ログオン時</li>
<li>プログラムの開始</li>
<li>プログラム&#x2F;スクリプト<br> <code>wsl</code></li>
<li>引数の追加<br> <code>/home/hoge/bin/startup.sh</code></li>
</ol>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/chinachu/">chinachu</a><a class="post-meta__tags" href="/tags/wsl/">wsl</a></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2019/06/14/WSL2/" title="WSL 2"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">WSL 2</div></div><div class="info-2"><div class="info-item-1">Windows Insider Program でWSL 2 が利用できるようになりましたので試してみました。 既存のWSL 環境をWSL 2 に変換しました。WSL 2 ではHyper-V を利用するようになったようですね。   1. Windows Insider Program へ登録https://insider.windows.com/ja-jp/上記のURL からWindows Insider Program に参加登録します。 2. Windows Update を実行Windows Update を実行すると以下の状態になりました。 エディション: Windows 10 Pro Insider Previewバージョン: 1903OSビルド: 18917.1000 3. VirtualMachinePlatform の有効化Windows PowerShell(管理者)モードから設定します。 PS C:\WINDOWS\system32&gt; Enable-WindowsOptionalFeature -Online -FeatureName VirtualMa...</div></div></div></a><a class="pagination-related" href="/2019/05/25/Hexo-filter-mermaid-diagrams/" title="HexoでMermaidダイアグラム"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">HexoでMermaidダイアグラム</div></div><div class="info-2"><div class="info-item-1">     graph LR;     linkStyle default interpolate basis     A(ONU)-- IPv6 --&gt;B(v6対応ルータ);     B--&gt;C[物理PC];     C--&gt;D[仮想サーバ];     B--&gt;E[ノートPC]     B--&gt;F(一般ルータ);     F--&gt;B;     F--&gt;G[OpenVPNサーバ];      https://mermaidjs.github.io/ https://github.com/webappdevelp/hexo-filter-mermaid-diagrams https://wangxiaoyu-go.github.io/2018/11/23/hexo-filter-mermaid-diagrams/  Hexo でMermaid ダイアグラムを書いてみました。 2025-03-22 追記 テーマ変更に伴い、今後hexo-theme-butterflyのタグプラグインに書き換えが必要 一旦ダークテーマにして戻すと正しく表示されるが...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2020/07/12/EPGStation-on-WSL/" title="EPGStation&#x2F;Mirakurun on WSL"><img class="cover" src="/images/epgstation.drawio.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-12</div><div class="info-item-2">EPGStation&#x2F;Mirakurun on WSL</div></div><div class="info-2"><div class="info-item-1">https://github.com/l3tnun/EPGStationhttps://github.com/Chinachu/MirakurunChianchu の調子が悪くなったのでEPGStation に乗り換えてみました。EPGStation とMirakurun をWSL 上に構築しました。   環境 ソフトウェア構成  Windows 10 Insider Preview build 20161 WSL (Ubuntu 20.04 LTS) node v14.4.0 EPGStation 1.7.0 Mirakurun 3.2.0   npm 6.14.5 pm2 4.4.0 ffmpeg 4.2.2 python 2.7.18rc1 gcc 9.3.0   BonRecTest 1.0.0 Kodi 18.6 PVR IPTV Simple Client 3.9.8       ディレクトリ配置     if (!window.google) {     document.body.innerHTML = 'You need to include the scrip...</div></div></div></a><a class="pagination-related" href="/2015/04/29/Kodi-Live-TV-with-Chinachu/" title="Kodi Live TV with Chinachu"><img class="cover" src="/images/kodi-livetv-chinachu.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2015-04-29</div><div class="info-item-2">Kodi Live TV with Chinachu</div></div><div class="info-2"><div class="info-item-1">  http://mzyy94.com/blog/2015/02/21/kodi-livetv-chinachu/ https://github.com/mzyy94/Chinachu-IPTV-API-addon  Kodi とChinachu でライブTV を視聴する環境を構築してみました。   環境   Software Version    OS Ubuntu GNOME 15.04   Kernel 3.19.0-15   DE GNOME Shell 3.16.1   Kodi 15.0-BETA1   PVR Simple IPTV Client 1.11.0   Chinachu-IPTV-API-addon 2015-02-21   Chinachu-IPTV-API-addon の設定https://github.com/mzyy94/Chinachu-IPTV-API-addon/blob/master/README.md PVR Simple IPTV Client のインストール$ sudo apt-get install kodi-pvr-iptvsi...</div></div></div></a><a class="pagination-related" href="/2020/08/01/Enabling-sound-in-WSL/" title="Enabling sound in WSL"><img class="cover" src="/images/moc-on-wsl2.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-01</div><div class="info-item-2">Enabling sound in WSL</div></div><div class="info-2"><div class="info-item-1">https://x410.dev/cookbook/wsl/enabling-sound-in-wsl-ubuntu-let-it-sing/https://www.freedesktop.org/wiki/Software/PulseAudio/Ports/Windows/Support/ PulseAudio を使ってWSL2 上でサウンドを再生できるようにしてみました。Extraterm 上でMOC(Music on Console) を利用してみました。Visual Studio Code のターミナルでも実行できます。   環境 Windows 10 Insider Preview Build 20180 [IP: 192.168.11.2] PulseAudio for Windows 1.1 WSL2 (Ubuntu) pulseaudio 13.99.1 moc 2.6-alpha3 (Theme: transparent-background)   Extraterm 0.52.0 (Theme: Extraterm Default)    構築 (Window...</div></div></div></a><a class="pagination-related" href="/2020/06/19/WSL-Ubuntu-20-04-LTS/" title="WSL - Ubuntu 20.04 LTS"><img class="cover" src="https://assets.ubuntu.com/v1/29985a98-ubuntu-logo32.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2020-06-19</div><div class="info-item-2">WSL - Ubuntu 20.04 LTS</div></div><div class="info-2"><div class="info-item-1">WSL のUbuntu 20.04 LTS が公開されていたのでUbuntu 18.04 LTS から移行しました。 マイクロソフトストアには以下の3つのUbuntu が存在しています。「Ubuntu」からはdo-release-upgradeでバージョンアップできるけれど、「Ubuntu 18.04 LTS」からはバージョンアップできないんですね。  Ubuntu Ubuntu-18.04 Ubuntu-20.04    環境 Windows 10 Insider Preview Build 20150 移行前WSL Ubuntu 18.04 (Ubuntu 18.04 LTS) bash 4.4.20 node v13.9.0 npm 6.13.7 Docker version 19.03.6 Docker Compose version 1.24.0   移行後WSL Ubuntu (Ubuntu 20.04 LTS) bash 5.0.16 node v14.4.0 npm 6.14.5 Docker version 19.03.11 Docker Compose ver...</div></div></div></a><a class="pagination-related" href="/2025/10/30/Install-Arch-Linux-on-WSL/" title="Install Arch Linux on WSL"><img class="cover" src="/images/Arch_Linux__Crystal__icon.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-30</div><div class="info-item-2">Install Arch Linux on WSL</div></div><div class="info-2"><div class="info-item-1">WSLにArch Linuxをインストールします。Ubuntu上のfish, ssh, code server, hexo, jellyfinをArch Linuxに移行します。 https://wiki.archlinux.org/title/Install_Arch_Linux_on_WSL   環境Software Widows 11 Pro wsl 2.6.1 Arch Linux fish 4.1.2 starship v1.24.0 code-server v4.105.1 hexo 8.1.0 hexo-theme-butterfly 5.5.1   jellyfin 10.11.0   Ubuntu (現行のデフォルト)      Ports   port 用途    22 ssh   443 code-server   4000 hexo s   8096 jellyfin   構築Arch Linux導入 WSLをアップデート wsl --update Arch Linuxをインストール 管理者で実行wsl --install archlinuxwsl --l...</div></div></div></a><a class="pagination-related" href="/2019/06/14/WSL2/" title="WSL 2"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2019-06-14</div><div class="info-item-2">WSL 2</div></div><div class="info-2"><div class="info-item-1">Windows Insider Program でWSL 2 が利用できるようになりましたので試してみました。 既存のWSL 環境をWSL 2 に変換しました。WSL 2 ではHyper-V を利用するようになったようですね。   1. Windows Insider Program へ登録https://insider.windows.com/ja-jp/上記のURL からWindows Insider Program に参加登録します。 2. Windows Update を実行Windows Update を実行すると以下の状態になりました。 エディション: Windows 10 Pro Insider Previewバージョン: 1903OSビルド: 18917.1000 3. VirtualMachinePlatform の有効化Windows PowerShell(管理者)モードから設定します。 PS C:\WINDOWS\system32&gt; Enable-WindowsOptionalFeature -Online -FeatureName VirtualMa...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comments</span></div></div><div class="comment-wrap"><div><div id="utterances-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">ktkr3d</div><div class="author-info-description">Memorandum</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">490</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">201</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">31</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/ktkr3d"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/ktkr3d" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="https://gist.github.com/ktkr3d" target="_blank" title="Gist"><i class="fas fa-code" style="color: #24292e;"></i></a><a class="social-icon" href="https://x.com/ktkr3d" target="_blank" title="X"><i class="fab fa-x-twitter" style="color: #24292e;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8F%BE%E5%9C%A8%E3%81%AE%E7%92%B0%E5%A2%83"><span class="toc-number">1.</span> <span class="toc-text">現在の環境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WSL-%E3%81%A7Chinachu-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><span class="toc-number">2.</span> <span class="toc-text">WSL でChinachu のインストール</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#chinachu-config-json-%E3%81%AE%E8%A8%AD%E5%AE%9A"><span class="toc-number">3.</span> <span class="toc-text">~&#x2F;chinachu&#x2F;config.json の設定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%8C%B2%E7%94%BB%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%81%8A%E3%82%88%E3%81%B3%E9%8C%B2%E7%94%BB%E5%B1%A5%E6%AD%B4%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E7%A7%BB%E8%A1%8C"><span class="toc-number">4.</span> <span class="toc-text">録画フォルダおよび録画履歴ファイルの移行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%B7%E5%8B%95"><span class="toc-number">5.</span> <span class="toc-text">起動</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%B7%E5%8B%95%E3%82%B7%E3%82%A7%E3%83%AB%E3%81%AE%E4%BD%9C%E6%88%90"><span class="toc-number">6.</span> <span class="toc-text">起動シェルの作成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#visudo-%E3%81%AE%E8%A8%AD%E5%AE%9A"><span class="toc-number">7.</span> <span class="toc-text">visudo の設定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Windows-%E8%B5%B7%E5%8B%95%E6%99%82%E3%81%AB%E8%87%AA%E5%8B%95%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B%E8%A8%AD%E5%AE%9A"><span class="toc-number">8.</span> <span class="toc-text">Windows 起動時に自動実行する設定</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/29/oUF-MyLayout-Addon/" title="oUF MyLayout Addon">oUF MyLayout Addon</a><time datetime="2025-12-29T12:51:56.000Z" title="Created 2025-12-29 21:51:56">2025-12-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/21/Prism-Launcher/" title="Prism Launcher">Prism Launcher</a><time datetime="2025-12-21T12:31:02.000Z" title="Created 2025-12-21 21:31:02">2025-12-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/21/Systemd-user-timer/" title="Systemd user timer">Systemd user timer</a><time datetime="2025-12-20T18:59:19.000Z" title="Created 2025-12-21 03:59:19">2025-12-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/06/Faugus-Launcher/" title="Faugus Launcher">Faugus Launcher</a><time datetime="2025-12-06T06:14:20.000Z" title="Created 2025-12-06 15:14:20">2025-12-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/01/SDDM/" title="SDDM">SDDM</a><time datetime="2025-12-01T08:35:57.000Z" title="Created 2025-12-01 17:35:57">2025-12-01</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/images/travel.png);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2010 - 2026 By ktkr3d</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll to Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null
  const getUtterancesTheme = theme => theme === 'dark' ? 'photon-dark' : 'github-light'

  const loadUtterances = (el = document, key) => {
    if (isShuoshuo) {
      window.shuoshuoComment.destroyUtterances = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    const config = {
      src: 'https://utteranc.es/client.js',
      repo: 'ktkr3d/ktkr3d.github.io',
      theme: getUtterancesTheme(document.documentElement.getAttribute('data-theme')),
      crossorigin: 'anonymous',
      async: true,
      ...option,
      'issue-term': isShuoshuo ? key : (option && option['issue-term']) || 'pathname'
    }

    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => ele.setAttribute(key, value))
    el.querySelector('#utterances-wrap').appendChild(ele)
  }

  const changeUtterancesTheme = theme => {
    const iframe = document.querySelector('#utterances-wrap iframe')
    if (iframe) {
      const message = {
        type: 'set-theme',
        theme: getUtterancesTheme(theme)
      };
      iframe.contentWindow.postMessage(message, 'https://utteranc.es')
    }
  }

  btf.addGlobalFn('themeChange', changeUtterancesTheme, 'utterances')

  if (isShuoshuo) {
    'Utterances' === 'Utterances'
      ? window.shuoshuoComment = { loadComment: loadUtterances }
      : window.loadOtherComment = loadUtterances
    return
  }
  
  if ('Utterances' === 'Utterances' || !false) {
    if (false) btf.loadComment(document.getElementById('utterances-wrap'), loadUtterances)
    else loadUtterances()
  } else {
    window.loadOtherComment = loadUtterances
  }
})()</script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="local-search-input"><input placeholder="Search for Posts" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>