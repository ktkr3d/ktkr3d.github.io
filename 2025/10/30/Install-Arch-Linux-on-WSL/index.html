<!DOCTYPE html><html lang="jp" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Install Arch Linux on WSL | Memorandum!</title><meta name="author" content="ktkr3d"><meta name="copyright" content="ktkr3d"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="WSLにArch Linuxをインストールします。Ubuntu上のfish, ssh, code server, hexo, jellyfinをArch Linuxに移行します。 https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;title&#x2F;Install_Arch_Linux_on_WSL">
<meta property="og:type" content="article">
<meta property="og:title" content="Install Arch Linux on WSL">
<meta property="og:url" content="https://ktkr3d.github.io/2025/10/30/Install-Arch-Linux-on-WSL/index.html">
<meta property="og:site_name" content="Memorandum!">
<meta property="og:description" content="WSLにArch Linuxをインストールします。Ubuntu上のfish, ssh, code server, hexo, jellyfinをArch Linuxに移行します。 https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;title&#x2F;Install_Arch_Linux_on_WSL">
<meta property="og:locale">
<meta property="og:image" content="https://ktkr3d.github.io/images/Arch_Linux__Crystal__icon.svg">
<meta property="article:published_time" content="2025-10-29T15:57:13.000Z">
<meta property="article:modified_time" content="2025-12-22T22:09:39.227Z">
<meta property="article:author" content="ktkr3d">
<meta property="article:tag" content="archlinux">
<meta property="article:tag" content="wsl">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ktkr3d.github.io/images/Arch_Linux__Crystal__icon.svg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Install Arch Linux on WSL",
  "url": "https://ktkr3d.github.io/2025/10/30/Install-Arch-Linux-on-WSL/",
  "image": "https://ktkr3d.github.io/images/Arch_Linux__Crystal__icon.svg",
  "datePublished": "2025-10-29T15:57:13.000Z",
  "dateModified": "2025-12-22T22:09:39.227Z",
  "author": [
    {
      "@type": "Person",
      "name": "ktkr3d",
      "url": "https://ktkr3d.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/images/favicon.png"><link rel="canonical" href="https://ktkr3d.github.io/2025/10/30/Install-Arch-Linux-on-WSL/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-MG6LWTJBY0"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'G-MG6LWTJBY0')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'G-MG6LWTJBY0', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":false,"highlightLang":false,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'medium_zoom',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: false,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Install Arch Linux on WSL',
  isHighlightShrink: undefined,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/custom.css"><script type="text/javascript" src="//www.google.com/jsapi"></script><meta name="generator" content="Hexo 8.1.1"><link rel="alternate" href="/rss.xml" title="Memorandum!" type="application/rss+xml">
</head><body><div class="bg-animation" id="web_bg" style="background-color: rgb(227, 233, 199);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">489</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">199</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">31</div></a></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> Pages</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page child" href="/archlinux/"><i class="fa-fw fa-solid fa-a"></i><span> Arch Linux</span></a></li><li><a class="site-page child" href="/GNOME/"><i class="fa-fw fa-solid fa-g"></i><span> GNOME</span></a></li><li><a class="site-page child" href="/hexo/"><i class="fa-fw fa-solid fa-h"></i><span> Hexo</span></a></li><li><a class="site-page child" href="/To-Do/"><i class="fa-fw fa-solid fa-list"></i><span> To Do</span></a></li><li><a class="site-page child" href="/ubuntu/"><i class="fa-fw fa-brands fa-ubuntu"></i><span> Ubuntu</span></a></li><li><a class="site-page child" href="/Visual-Studio-Code/"><i class="fa-fw fa-solid fa-code"></i><span> Visual Studio Code</span></a></li><li><a class="site-page child" href="/World-of-Warcraft/"><i class="fa-fw fa-solid fa-gamepad"></i><span> World of Warcraft</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img fixed" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Memorandum!</span></a><a class="nav-page-title" href="/"><span class="site-name">Install Arch Linux on WSL</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> Pages</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page child" href="/archlinux/"><i class="fa-fw fa-solid fa-a"></i><span> Arch Linux</span></a></li><li><a class="site-page child" href="/GNOME/"><i class="fa-fw fa-solid fa-g"></i><span> GNOME</span></a></li><li><a class="site-page child" href="/hexo/"><i class="fa-fw fa-solid fa-h"></i><span> Hexo</span></a></li><li><a class="site-page child" href="/To-Do/"><i class="fa-fw fa-solid fa-list"></i><span> To Do</span></a></li><li><a class="site-page child" href="/ubuntu/"><i class="fa-fw fa-brands fa-ubuntu"></i><span> Ubuntu</span></a></li><li><a class="site-page child" href="/Visual-Studio-Code/"><i class="fa-fw fa-solid fa-code"></i><span> Visual Studio Code</span></a></li><li><a class="site-page child" href="/World-of-Warcraft/"><i class="fa-fw fa-solid fa-gamepad"></i><span> World of Warcraft</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Install Arch Linux on WSL</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-10-29T15:57:13.000Z" title="Created 2025-10-30 00:57:13">2025-10-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-12-22T22:09:39.227Z" title="Updated 2025-12-23 07:09:39">2025-12-23</time></span></div><div class="meta-secondline"></div></div></div><article class="container post-content" id="article-container"><p>WSLにArch Linuxをインストールします。<br>Ubuntu上のfish, ssh, code server, hexo, jellyfinをArch Linuxに移行します。</p>
<p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Install_Arch_Linux_on_WSL">https://wiki.archlinux.org/title/Install_Arch_Linux_on_WSL</a></p>
<span id="more"></span>

<h3 id="環境"><a href="#環境" class="headerlink" title="環境"></a>環境</h3><h4 id="Software"><a href="#Software" class="headerlink" title="Software"></a>Software</h4><ul>
<li>Widows 11 Pro<ul>
<li>wsl 2.6.1<ul>
<li>Arch Linux<ul>
<li>fish 4.1.2</li>
<li>starship v1.24.0</li>
<li>code-server v4.105.1</li>
<li>hexo 8.1.0<ul>
<li>hexo-theme-butterfly 5.5.1</li>
</ul>
</li>
<li>jellyfin 10.11.0</li>
</ul>
</li>
<li>Ubuntu (現行のデフォルト)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="Ports"><a href="#Ports" class="headerlink" title="Ports"></a>Ports</h4><table>
<thead>
<tr>
<th align="left">port</th>
<th align="left">用途</th>
</tr>
</thead>
<tbody><tr>
<td align="left">22</td>
<td align="left">ssh</td>
</tr>
<tr>
<td align="left">443</td>
<td align="left">code-server</td>
</tr>
<tr>
<td align="left">4000</td>
<td align="left">hexo s</td>
</tr>
<tr>
<td align="left">8096</td>
<td align="left">jellyfin</td>
</tr>
</tbody></table>
<h3 id="構築"><a href="#構築" class="headerlink" title="構築"></a>構築</h3><h4 id="Arch-Linux導入"><a href="#Arch-Linux導入" class="headerlink" title="Arch Linux導入"></a>Arch Linux導入</h4><ol>
<li>WSLをアップデート <figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">wsl --update</span><br></pre></td></tr></table></figure></li>
<li>Arch Linuxをインストール <figure class="highlight cmd"><figcaption><span>管理者で実行</span></figcaption><table><tr><td class="code"><pre><span class="line">wsl --install archlinux</span><br><span class="line">wsl --list</span><br></pre></td></tr></table></figure></li>
<li>念のためWindowsを再起動</li>
<li>Windows Terminalからログイン</li>
</ol>
<h4 id="Arch-Linux環境設定"><a href="#Arch-Linux環境設定" class="headerlink" title="Arch Linux環境設定"></a>Arch Linux環境設定</h4><ol>
<li>初期設定 <figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">pacman-key <span class="comment">--init</span></span><br><span class="line">pacman-key <span class="comment">--populate</span></span><br><span class="line">pacman -Syu</span><br><span class="line">pacman -S base-devel git openssh vim wget curl</span><br></pre></td></tr></table></figure></li>
<li>アカウントの作成 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">useradd -m -G wheel -s /bin/bash <span class="built_in">arch</span></span><br><span class="line">passwd <span class="built_in">arch</span></span><br><span class="line">pacman -S <span class="built_in">sudo</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;%wheel ALL=(ALL) ALL&#x27;</span> &gt; /etc/sudoers.d/wheel</span><br></pre></td></tr></table></figure>
 <figure class="highlight ini"><figcaption><span>/etc/wsl.conf</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="section">[boot]</span></span><br><span class="line"><span class="attr">systemd</span>=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="section">[user]</span> </span><br><span class="line"><span class="attr">default</span> = arch</span><br></pre></td></tr></table></figure></li>
<li>paru#paru-AUR-の導入<br> <a href="https://ktkr3d.github.io/archlinux/#paru-AUR-%E3%81%AE%E5%B0%8E%E5%85%A5">https://ktkr3d.github.io/archlinux/#paru-AUR-の導入</a></li>
<li>fish shell, starship設定<br> <a href="https://ktkr3d.github.io/2024/10/17/fish_starship/">https://ktkr3d.github.io/2024/10/17/fish_starship/</a></li>
<li>fastfetch<br> <a href="https://ktkr3d.github.io/2024/08/01/Fastfetch/">https://ktkr3d.github.io/2024/08/01/Fastfetch/</a></li>
<li>ssh確認(現行WSL(Ubuntu)へ接続) <figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">ssh</span> ubuntu<span class="variable">@localhost</span></span><br></pre></td></tr></table></figure>
 ファイル転送（ディレクトリの場合） <figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">scp -r ubuntu<span class="variable">@localhost</span><span class="symbol">:/hoge/fuga/</span> .</span><br></pre></td></tr></table></figure>
<ul>
<li>&#x2F;home&#x2F;ubuntu&#x2F;.ssh&#x2F;</li>
<li>&#x2F;home&#x2F;ubuntu&#x2F;.local&#x2F;share&#x2F;mkcert&#x2F;</li>
<li>&#x2F;home&#x2F;ubuntu&#x2F;repos&#x2F;blog&#x2F;source&#x2F;</li>
</ul>
</li>
</ol>
<h4 id="Arch-Linuxのサービス設定"><a href="#Arch-Linuxのサービス設定" class="headerlink" title="Arch Linuxのサービス設定"></a>Arch Linuxのサービス設定</h4><ol>
<li><p>ssh設定<br> sshdサービス設定</p>
 <figure class="highlight bash"><figcaption><span>Arch Linuxシェル</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S openssh</span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> --now sshd</span><br></pre></td></tr></table></figure></li>
<li><p>code server設定<br> 証明書のコピー</p>
 <figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">scp -r ubuntu<span class="variable">@localhost</span><span class="symbol">:~/</span>.local/share/mkcert ~<span class="regexp">/.local/share</span><span class="regexp">/</span></span><br></pre></td></tr></table></figure>
 <figure class="highlight armasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">paru</span> -S <span class="meta">code</span>-server</span><br></pre></td></tr></table></figure>
 <figure class="highlight text"><figcaption><span>~/.config/code-server/config.yaml</span></figcaption><table><tr><td class="code"><pre><span class="line">bind-addr: 0.0.0.0:443</span><br><span class="line">auth: none</span><br><span class="line">cert: /home/arch/.local/share/mkcert/DESKTOP-2P2LUE8.local.pem</span><br><span class="line">cert-key: /home/arch/.local/share/mkcert/DESKTOP-2P2LUE8.local-key.pem</span><br></pre></td></tr></table></figure>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> --now code-server@<span class="variable">$USER</span></span><br></pre></td></tr></table></figure></li>
<li><p>hexo設定<br> <a href="https://ktkr3d.github.io/hexo/">https://ktkr3d.github.io/hexo/</a><br> 現行の設定ファイル<code>./_config.butterfly.yml</code>と新しいの設定ファイルの雛形<code>./node_modules/hexo-theme-butterfly/_config.yml</code>を比較して新しい設定ファイル<code>./_config.butterfly.yml</code>を作成して保存</p>
</li>
<li><p>jellyfin設定<br> <a href="https://ktkr3d.github.io/2025/07/03/Jellyfin/">https://ktkr3d.github.io/2025/07/03/Jellyfin/</a></p>
 <figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line">sudo pacman -S jellyfin-<span class="keyword">server</span> jellyfin-web</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="ポートフォワード"><a href="#ポートフォワード" class="headerlink" title="ポートフォワード"></a>ポートフォワード</h4><ol>
<li>転送スクリプト <figure class="highlight ps1"><figcaption><span>c:\tools\wsl-proxy\wsl-proxy.ps1</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="variable">$WSL2_IPV4</span>=bash <span class="literal">-c</span> <span class="string">&quot;ip route | grep &#x27;eth0 proto kernel scope&#x27; | cut -d &#x27; &#x27; -f9&quot;</span></span><br><span class="line"><span class="variable">$HOST_IPV4</span>=<span class="string">&quot;*&quot;</span></span><br><span class="line"><span class="variable">$PORTS</span>=<span class="selector-tag">@</span>(<span class="number">22</span>,<span class="number">443</span>,<span class="number">4000</span>,<span class="number">8096</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$PORT</span> <span class="keyword">in</span> <span class="variable">$PORTS</span>)</span><br><span class="line">&#123;</span><br><span class="line">    netsh interface portproxy delete v4tov4 listenaddress=<span class="variable">$HOST_IPV4</span> listenport=<span class="variable">$PORT</span></span><br><span class="line">    netsh interface portproxy add v4tov4 listenaddress=<span class="variable">$HOST_IPV4</span> listenport=<span class="variable">$PORT</span> connectaddress=<span class="variable">$WSL2_IPV4</span> connectport=<span class="variable">$PORT</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>タスクスケジューラでシステム起動時にwsl-proxy.ps1を起動</li>
</ol>
<h4 id="WSL切り替え"><a href="#WSL切り替え" class="headerlink" title="WSL切り替え"></a>WSL切り替え</h4><ol>
<li>現行のWSL(Ubuntu)を一旦停止 <figure class="highlight cmd"><figcaption><span>Windowsコマンドプロンプト</span></figcaption><table><tr><td class="code"><pre><span class="line">wsl --terminate &lt;ディストリビューション名&gt;</span><br></pre></td></tr></table></figure></li>
<li>デフォルトを切り替え <figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">wsl <span class="comment">--list</span></span><br><span class="line">wsl <span class="comment">--set-default archlinux</span></span><br><span class="line">wsl <span class="comment">--list</span></span><br></pre></td></tr></table></figure></li>
<li>wslconfigを設定 <figure class="highlight ini"><figcaption><span>C:\Users\ユーザー名\.wslconfig</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="section">[experimental]</span></span><br><span class="line"><span class="attr">autoMemoryReclaim</span>=gradual</span><br></pre></td></tr></table></figure></li>
<li>タスクスケジューラでシステム起動時にWSLを起動</li>
</ol>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/wsl/">wsl</a><a class="post-meta__tags" href="/tags/archlinux/">archlinux</a></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/11/07/OpenVPN-Access-Server/" title="OpenVPN Access Server"><img class="cover" src="https://openvpn.net/_assets/logo_dark_98a890727a.svg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">OpenVPN Access Server</div></div><div class="info-2"><div class="info-item-1">OpenVPN Access ServerをRaspberry Pi 4Bに構築してみました。今回はPortainerのGUI画面を使ってOpenVPN Access ServerのDockerコンテナを生成しました。2コネクションまでは無償利用可能なようです。                                     Self-Hosted VPN: Access Server | OpenVPN             Secure your private business network with a self-hosted VPN, Access Server, ideal for cloud or on-premise setups. Free with 2 simultaneous VPN connections.  https://openvpn.net/access-server/https://hub.docker.com/r/openvpn/openvpn-as 2025-11-15https://docs.portainer.io/faqs/...</div></div></div></a><a class="pagination-related" href="/2025/07/19/qwen3/" title="Qwen3"><img class="cover" src="https://camo.githubusercontent.com/8793b3b4014d538b367ec8819dcca85e79cb8d910c808fa7849e3cd85e2ebe79/68747470733a2f2f7169616e77656e2d7265732e6f73732d616363656c65726174652d6f766572736561732e616c6979756e63732e636f6d2f6c6f676f5f7177656e332e706e67" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Qwen3</div></div><div class="info-2"><div class="info-item-1"> Qwen3を使ってみました。Qwen3はAlibabaが開発したオープンソースの大規模言語モデル(LLM)の最新バージョンです。UIにはOpen WebUIを利用しました。 https://github.com/QwenLM/Qwen3https://github.com/open-webui/open-webui 2025-08-04https://ollama.com/downloadOllama GUIアプリ   環境 Window 11 python 3.11.9Requires-Python &lt;3.12.0a1,&gt;&#x3D;3.11  nvidia cuda 12.9 git 2.50.1 ollama 0.9.6 open-webui v0.6.18    構築前提ソフトウェアのインストール pythonwinget install --id Python.Python.3.11 -e nvidia cudawinget install --id Nvidia.CUDA -e gitwinget install --id Git.Git -e olla...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2020/06/19/WSL-Ubuntu-20-04-LTS/" title="WSL - Ubuntu 20.04 LTS"><img class="cover" src="https://assets.ubuntu.com/v1/29985a98-ubuntu-logo32.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2020-06-19</div><div class="info-item-2">WSL - Ubuntu 20.04 LTS</div></div><div class="info-2"><div class="info-item-1">WSL のUbuntu 20.04 LTS が公開されていたのでUbuntu 18.04 LTS から移行しました。 マイクロソフトストアには以下の3つのUbuntu が存在しています。「Ubuntu」からはdo-release-upgradeでバージョンアップできるけれど、「Ubuntu 18.04 LTS」からはバージョンアップできないんですね。  Ubuntu Ubuntu-18.04 Ubuntu-20.04    環境 Windows 10 Insider Preview Build 20150 移行前WSL Ubuntu 18.04 (Ubuntu 18.04 LTS) bash 4.4.20 node v13.9.0 npm 6.13.7 Docker version 19.03.6 Docker Compose version 1.24.0   移行後WSL Ubuntu (Ubuntu 20.04 LTS) bash 5.0.16 node v14.4.0 npm 6.14.5 Docker version 19.03.11 Docker Compose ver...</div></div></div></a><a class="pagination-related" href="/2019/06/04/Chinachu-on-WSL/" title="WSL でChinachu"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2019-06-04</div><div class="info-item-2">WSL でChinachu</div></div><div class="info-2"><div class="info-item-1">https://github.com/Chinachu/Chinachu/wiki/Gamma-Installation-V2 Chinachu がWSL (Ubuntu 18.04)で普通に動きました。   現在の環境 Windows 10 Windows 10 でMirakurun を導入済 WSL (Ubuntu 18.04 が導入済でデフォルト)を導入済 WSL でnode.js を導入済  WSL でChinachu のインストール$ sudo apt-get install build-essential curl git-core vainfo$ sudo npm install pm2 -g$ sudo pm2 startup$ git clone git://github.com/kanreisa/Chinachu.git ~/chinachu$ cd ~/chinachu/$ ./chinachu installer$ cp config.sample.json config.json  ~&#x2F;chinachu&#x2F;config.json の設定...</div></div></div></a><a class="pagination-related" href="/2025/05/19/Reflector/" title="Reflector"><img class="cover" src="/images/reflector.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-19</div><div class="info-item-2">Reflector</div></div><div class="info-2"><div class="info-item-1"> Reflectorを利用してArch Linuxのミラーリストを週次で自動更新するように設定します。タイマーreflector.timerが週次でreflector.serviceをキックします。即時実行したい場合はreflector.serviceを開始(start)します。 https://man.archlinux.org/man/reflector.1https://wiki.archlinux.jp/index.php/Reflector   環境 Arch Linux Reflector 2023-3  関連ファイル Reflectorの設定ファイル/etc/xdg/reflector/reflector.conf Arch Linuxのミラーリスト/etc/pacman.d/mirrorlist  構築 reflectorをインストール    sudo pacman -S reflector   設定  JapanにあるHTTPSミラーの内、最近同期した上位5サイトをダウンロード速度(rate)で並べ替えます。    &#x2F;etc&#x2F;xdg&#x2F...</div></div></div></a><a class="pagination-related" href="/2024/04/17/VirtualBox-Arch-Linux/" title="VirtualBox + Arch Linux"><img class="cover" src="/images/archlinuxvbox.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-17</div><div class="info-item-2">VirtualBox + Arch Linux</div></div><div class="info-2"><div class="info-item-1">VirtualBox でArch Linux の環境を構築してみました。https://archlinux.org/   環境ホストOS環境   分類 項目 値    ハード CPU 4コア／8スレッド   ハード Memory 32GB   ソフト OS Windows 11 Pro   ソフト 仮想化 VirtualBox 7.0   ゲストOS用VirtualBox設定   分類 項目 値    一般 クリップボードの共有 双方向   システム メインメモリー 8192MB   システム プロセッサー数 2   ディスプレイ ビデオメモリー 128MB   ストレージ 仮想的なサイズ 20GB   ネットワーク 割り当て ブリッジアダプター   ISOファイルダウンロードhttps://archlinux.org/download/ インストールarchinstall     分類 項目 値    Mirrors Mirror region Japan   Locales Keyboard layout jp106   Locales Locale language ja_...</div></div></div></a><a class="pagination-related" href="/2020/06/11/Windows-10-Build-19645-WSL-2/" title="Windows 10 Build 19645 + WSL 2"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2020-06-11</div><div class="info-item-2">Windows 10 Build 19645 + WSL 2</div></div><div class="info-2"><div class="info-item-1">https://docs.microsoft.com/ja-jp/windows/wsl/wsl2-kernel Windows 10 Insider Preview Build 19645 をインストールしたらWSL2 が起動しなくなりました。Kernel の更新方法が変わったようです。 以下のMSI をインストールすると復帰しました。https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi 2020-06-18 追記Windows 10 Insider Preview Build 20150 へ更新することで、コマンドプロンプトからwsl --update で更新できるようになったようです。 C:\&gt;wsl --update更新をチェック中...利用できる更新はありません。カーネル バージョン: 4.19.104    環境 Windows 10 Insider Preview Build 19645  構築 以下のページを参照https://docs.microsoft.com/j...</div></div></div></a><a class="pagination-related" href="/2025/03/27/RPi4B-Arch-Linux/" title="RPi4B - Arch Linux"><img class="cover" src="/images/rpi4b_arch_gnome.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-27</div><div class="info-item-2">RPi4B - Arch Linux</div></div><div class="info-2"><div class="info-item-1"> Raspberry Pi 4BにArch Linux (64it)をインストールしてみました。 https://archlinuxarm.org/platforms/armv8/broadcom/raspberry-pi-4   環境 Raspberry Pi 4B 32GB SDカード Arch Linux    構築作業PC gpartedでSDカードのパーティションを削除しておく rootで作業する    su  Start fdisk to partition the SD card:    fdisk /dev/sdX   私の環境では&#x2F;dev&#x2F;sdaでした   At the fdisk prompt, delete old partitions and create a new one:   入力 内容      o|This will clear out any partitions on the drivep|list partitions. There should be no partitions leftnp1ENTER+400M|th...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comments</span></div></div><div class="comment-wrap"><div><div id="utterances-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">ktkr3d</div><div class="author-info-description">Memorandum</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">489</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">199</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">31</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/ktkr3d"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/ktkr3d" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="https://gist.github.com/ktkr3d" target="_blank" title="Gist"><i class="fas fa-code" style="color: #24292e;"></i></a><a class="social-icon" href="https://x.com/ktkr3d" target="_blank" title="X"><i class="fab fa-x-twitter" style="color: #24292e;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%92%B0%E5%A2%83"><span class="toc-number">1.</span> <span class="toc-text">環境</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Software"><span class="toc-number">1.1.</span> <span class="toc-text">Software</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ports"><span class="toc-number">1.2.</span> <span class="toc-text">Ports</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A7%8B%E7%AF%89"><span class="toc-number">2.</span> <span class="toc-text">構築</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Arch-Linux%E5%B0%8E%E5%85%A5"><span class="toc-number">2.1.</span> <span class="toc-text">Arch Linux導入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Arch-Linux%E7%92%B0%E5%A2%83%E8%A8%AD%E5%AE%9A"><span class="toc-number">2.2.</span> <span class="toc-text">Arch Linux環境設定</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Arch-Linux%E3%81%AE%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E8%A8%AD%E5%AE%9A"><span class="toc-number">2.3.</span> <span class="toc-text">Arch Linuxのサービス設定</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E3%83%9D%E3%83%BC%E3%83%88%E3%83%95%E3%82%A9%E3%83%AF%E3%83%BC%E3%83%89"><span class="toc-number">2.4.</span> <span class="toc-text">ポートフォワード</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WSL%E5%88%87%E3%82%8A%E6%9B%BF%E3%81%88"><span class="toc-number">2.5.</span> <span class="toc-text">WSL切り替え</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/21/Prism-Launcher/" title="Prism Launcher">Prism Launcher</a><time datetime="2025-12-21T12:31:02.000Z" title="Created 2025-12-21 21:31:02">2025-12-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/21/Systemd-user-timer/" title="Systemd user timer">Systemd user timer</a><time datetime="2025-12-20T18:59:19.000Z" title="Created 2025-12-21 03:59:19">2025-12-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/06/Faugus-Launcher/" title="Faugus Launcher">Faugus Launcher</a><time datetime="2025-12-06T06:14:20.000Z" title="Created 2025-12-06 15:14:20">2025-12-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/01/SDDM/" title="SDDM">SDDM</a><time datetime="2025-12-01T08:35:57.000Z" title="Created 2025-12-01 17:35:57">2025-12-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/30/Walker/" title="Walker">Walker</a><time datetime="2025-11-30T13:18:02.000Z" title="Created 2025-11-30 22:18:02">2025-11-30</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/images/travel.png);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2010 - 2025 By ktkr3d</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll to Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null
  const getUtterancesTheme = theme => theme === 'dark' ? 'photon-dark' : 'github-light'

  const loadUtterances = (el = document, key) => {
    if (isShuoshuo) {
      window.shuoshuoComment.destroyUtterances = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    const config = {
      src: 'https://utteranc.es/client.js',
      repo: 'ktkr3d/ktkr3d.github.io',
      theme: getUtterancesTheme(document.documentElement.getAttribute('data-theme')),
      crossorigin: 'anonymous',
      async: true,
      ...option,
      'issue-term': isShuoshuo ? key : (option && option['issue-term']) || 'pathname'
    }

    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => ele.setAttribute(key, value))
    el.querySelector('#utterances-wrap').appendChild(ele)
  }

  const changeUtterancesTheme = theme => {
    const iframe = document.querySelector('#utterances-wrap iframe')
    if (iframe) {
      const message = {
        type: 'set-theme',
        theme: getUtterancesTheme(theme)
      };
      iframe.contentWindow.postMessage(message, 'https://utteranc.es')
    }
  }

  btf.addGlobalFn('themeChange', changeUtterancesTheme, 'utterances')

  if (isShuoshuo) {
    'Utterances' === 'Utterances'
      ? window.shuoshuoComment = { loadComment: loadUtterances }
      : window.loadOtherComment = loadUtterances
    return
  }
  
  if ('Utterances' === 'Utterances' || !false) {
    if (false) btf.loadComment(document.getElementById('utterances-wrap'), loadUtterances)
    else loadUtterances()
  } else {
    window.loadOtherComment = loadUtterances
  }
})()</script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="local-search-input"><input placeholder="Search for Posts" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>