<!DOCTYPE html><html lang="jp" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Hexo 5.0.0 | Memorandum!</title><meta name="author" content="ktkr3d"><meta name="copyright" content="ktkr3d"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="https:&#x2F;&#x2F;hexo.io&#x2F;news&#x2F;2020&#x2F;07&#x2F;29&#x2F;hexo-5-released&#x2F; Hexo 5.0.0 がリリースされていたので導入してみました。  さらに高速になったようです。 メモリ使用量が減った気がします。 フロントマターにpublished: falseを設定できるようになりました。以下を追記しました。.&#x2F;scalfolds&#x2F;post.mdpublished: true">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo 5.0.0">
<meta property="og:url" content="https://ktkr3d.github.io/2020/08/03/Hexo-5-0-0/index.html">
<meta property="og:site_name" content="Memorandum!">
<meta property="og:description" content="https:&#x2F;&#x2F;hexo.io&#x2F;news&#x2F;2020&#x2F;07&#x2F;29&#x2F;hexo-5-released&#x2F; Hexo 5.0.0 がリリースされていたので導入してみました。  さらに高速になったようです。 メモリ使用量が減った気がします。 フロントマターにpublished: falseを設定できるようになりました。以下を追記しました。.&#x2F;scalfolds&#x2F;post.mdpublished: true">
<meta property="og:locale">
<meta property="og:image" content="https://hexo.io/icon/favicon-196x196.png">
<meta property="article:published_time" content="2020-08-02T18:31:29.000Z">
<meta property="article:modified_time" content="2020-08-02T18:31:29.000Z">
<meta property="article:author" content="ktkr3d">
<meta property="article:tag" content="hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hexo.io/icon/favicon-196x196.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Hexo 5.0.0",
  "url": "https://ktkr3d.github.io/2020/08/03/Hexo-5-0-0/",
  "image": "https://hexo.io/icon/favicon-196x196.png",
  "datePublished": "2020-08-02T18:31:29.000Z",
  "dateModified": "2020-08-02T18:31:29.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "ktkr3d",
      "url": "https://ktkr3d.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/images/favicon.png"><link rel="canonical" href="https://ktkr3d.github.io/2020/08/03/Hexo-5-0-0/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-MG6LWTJBY0"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'G-MG6LWTJBY0')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'G-MG6LWTJBY0', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":false,"highlightLang":false,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'medium_zoom',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: false,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Hexo 5.0.0',
  isHighlightShrink: undefined,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/custom.css"><script type="text/javascript" src="//www.google.com/jsapi"></script><meta name="generator" content="Hexo 8.1.1"><link rel="alternate" href="/rss.xml" title="Memorandum!" type="application/rss+xml">
</head><body><div class="bg-animation" id="web_bg" style="background-color: rgb(227, 233, 199);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">490</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">201</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">31</div></a></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> Pages</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page child" href="/archlinux/"><i class="fa-fw fa-solid fa-a"></i><span> Arch Linux</span></a></li><li><a class="site-page child" href="/GNOME/"><i class="fa-fw fa-solid fa-g"></i><span> GNOME</span></a></li><li><a class="site-page child" href="/hexo/"><i class="fa-fw fa-solid fa-h"></i><span> Hexo</span></a></li><li><a class="site-page child" href="/To-Do/"><i class="fa-fw fa-solid fa-list"></i><span> To Do</span></a></li><li><a class="site-page child" href="/ubuntu/"><i class="fa-fw fa-brands fa-ubuntu"></i><span> Ubuntu</span></a></li><li><a class="site-page child" href="/Visual-Studio-Code/"><i class="fa-fw fa-solid fa-code"></i><span> Visual Studio Code</span></a></li><li><a class="site-page child" href="/World-of-Warcraft/"><i class="fa-fw fa-solid fa-gamepad"></i><span> World of Warcraft</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img fixed" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Memorandum!</span></a><a class="nav-page-title" href="/"><span class="site-name">Hexo 5.0.0</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> Pages</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page child" href="/archlinux/"><i class="fa-fw fa-solid fa-a"></i><span> Arch Linux</span></a></li><li><a class="site-page child" href="/GNOME/"><i class="fa-fw fa-solid fa-g"></i><span> GNOME</span></a></li><li><a class="site-page child" href="/hexo/"><i class="fa-fw fa-solid fa-h"></i><span> Hexo</span></a></li><li><a class="site-page child" href="/To-Do/"><i class="fa-fw fa-solid fa-list"></i><span> To Do</span></a></li><li><a class="site-page child" href="/ubuntu/"><i class="fa-fw fa-brands fa-ubuntu"></i><span> Ubuntu</span></a></li><li><a class="site-page child" href="/Visual-Studio-Code/"><i class="fa-fw fa-solid fa-code"></i><span> Visual Studio Code</span></a></li><li><a class="site-page child" href="/World-of-Warcraft/"><i class="fa-fw fa-solid fa-gamepad"></i><span> World of Warcraft</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Hexo 5.0.0</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2020-08-02T18:31:29.000Z" title="Created 2020-08-03 03:31:29">2020-08-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2020-08-02T18:31:29.000Z" title="Updated 2020-08-03 03:31:29">2020-08-03</time></span></div><div class="meta-secondline"></div></div></div><article class="container post-content" id="article-container"><p><a target="_blank" rel="noopener" href="https://hexo.io/news/2020/07/29/hexo-5-released/">https://hexo.io/news/2020/07/29/hexo-5-released/</a></p>
<p>Hexo 5.0.0 がリリースされていたので導入してみました。</p>
<ul>
<li>さらに高速になったようです。</li>
<li>メモリ使用量が減った気がします。</li>
<li>フロントマターに<code>published: false</code>を設定できるようになりました。以下を追記しました。<figure class="highlight markdown"><figcaption><span>./scalfolds/post.md</span></figcaption><table><tr><td class="code"><pre><span class="line">published: true</span><br></pre></td></tr></table></figure></li>
</ul>
<span id="more"></span>

<h3 id="環境"><a href="#環境" class="headerlink" title="環境"></a>環境</h3><ul>
<li>Windows Insider Preview Build 20180<ul>
<li>WSL (Ubuntu)<ul>
<li>n 6.5.1</li>
<li>node v14.7.0</li>
<li>npm 6.14.7<ul>
<li>hexo 5.0.0</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="構築"><a href="#構築" class="headerlink" title="構築"></a>構築</h3><ol>
<li>バックアップ</li>
</ol>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">mv</span> blog _blog</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>node の更新</li>
</ol>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ n latest</span><br><span class="line">$ node --version</span><br><span class="line">v14.7.0</span><br><span class="line">$ npm --version</span><br><span class="line">6.14.7</span><br><span class="line">$ n --version</span><br><span class="line">6.5.1</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>Hexo のインストール</li>
</ol>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm install hexo</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>blog の初期化</li>
</ol>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npx hexo init blog</span><br><span class="line">$ <span class="built_in">cd</span> blog</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>プラグインのインストール</li>
</ol>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm i -S hexo-deployer-git</span><br><span class="line">$ npm i -S hexo-filter-mermaid-diagrams</span><br><span class="line">$ npm i -S hexo-generator-feed</span><br><span class="line">$ npm i -S hexo-generator-search</span><br><span class="line">$ npm i -S hexo-pdf</span><br><span class="line">$ npm i -S hexo-related-popular-posts</span><br><span class="line">$ npm i -S hexo-tag-googlecharts</span><br><span class="line">$ npm i -S hexo-tag-table-bootstrap</span><br><span class="line">$ npm i -S hexo-tag-twitter</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>モジュールの修正</li>
</ol>
<ul>
<li><p>前回と同様の修正<br><a href="https://ktkr3d.github.io/2020/02/27/hexo-related-popular-posts/">https://ktkr3d.github.io/2020/02/27/hexo-related-popular-posts/</a></p>
</li>
<li><p>キャッシュの構造変更対応</p>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ソース</td>
<td align="left">.&#x2F;node_modules&#x2F;hexo-related-popular-posts&#x2F;lib&#x2F;list-json.js</td>
</tr>
<tr>
<td align="left">置換前</td>
<td align="left">locals.cache.cache.posts</td>
</tr>
<tr>
<td align="left">置換後</td>
<td align="left">locals.cache.cache.get(“posts”)</td>
</tr>
</tbody></table>
</li>
<li><p>テーマ関連の修正</p>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ソース</td>
<td align="left">.&#x2F;themes&#x2F;freemind&#x2F;layout&#x2F;partial&#x2F;footer.ejs</td>
</tr>
<tr>
<td align="left">置換前</td>
<td align="left">theme.mermaid</td>
</tr>
<tr>
<td align="left">置換後</td>
<td align="left">config.mermaid</td>
</tr>
</tbody></table>
</li>
</ul>
<ol start="7">
<li>バージョンの確認</li>
</ol>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo --version</span><br><span class="line">INFO  Validating config</span><br><span class="line">hexo: 5.0.0</span><br><span class="line">hexo-cli: 4.1.0</span><br><span class="line">os: Linux 4.19.121-microsoft-standard linux x64</span><br><span class="line">node: 14.7.0</span><br><span class="line">v8: 8.4.371.19-node.12</span><br><span class="line">uv: 1.38.1</span><br><span class="line">zlib: 1.2.11</span><br><span class="line">brotli: 1.0.7</span><br><span class="line">ares: 1.16.0</span><br><span class="line">modules: 83</span><br><span class="line">nghttp2: 1.41.0</span><br><span class="line">napi: 6</span><br><span class="line">llhttp: 2.0.4</span><br><span class="line">openssl: 1.1.1g</span><br><span class="line">cldr: 37.0</span><br><span class="line">icu: 67.1</span><br><span class="line">tz: 2020a</span><br><span class="line">unicode: 13.0</span><br></pre></td></tr></table></figure>

<h3 id="データの移行"><a href="#データの移行" class="headerlink" title="データの移行"></a>データの移行</h3><ul>
<li>バックアップからインポート<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ~/blog</span><br><span class="line">$ <span class="built_in">cp</span> ../_blog/google-services.pem .</span><br><span class="line">$ <span class="built_in">cp</span> -r ../_blog/source .</span><br><span class="line">$ <span class="built_in">cp</span> -r ../_blog/scalfolds .</span><br><span class="line">$ <span class="built_in">cp</span> -r ../_blog/theme .</span><br><span class="line">$ <span class="built_in">mv</span> ./blog/themes/freemind/_config.yml ./_config.freemind.yml</span><br></pre></td></tr></table></figure>
⚠️Hexo 5.0.0 からテーマの設定ファイルをルートに<code>./_config.[theme].yml</code> の名称で配置することが推奨されているようです。設定内容は <code>./_config.[theme].yml</code> &gt; <code>./[theme]/_config.yml</code> の優先順位でマージされます。混乱を避けるために移動しておいた方がよさそうです。</li>
</ul>
<h3 id="config-yml-の更新"><a href="#config-yml-の更新" class="headerlink" title="_config.yml の更新"></a>_config.yml の更新</h3><ul>
<li>移行元の_config.yml を参考に作成</li>
<li>prismjs の項目が増えていたがそのまま</li>
<li><code>external_link</code> の仕様変更</li>
<li><code>use_date_for_updated</code> は<code>updated_option</code> に仕様変更</li>
</ul>
<h3 id="生成とデプロイ"><a href="#生成とデプロイ" class="headerlink" title="生成とデプロイ"></a>生成とデプロイ</h3><ul>
<li>生成とデプロイ<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure></li>
</ul>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/hexo/">hexo</a></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2020/08/09/Linux-Terminal-Shortcuts/" title="Linux Terminal Shortcuts"><img class="cover" src="/images/shortcuts.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Linux Terminal Shortcuts</div></div><div class="info-2"><div class="info-item-1">Linux 端末のショートカットのチートシートをman のように表示してみました。Alt+. (前回の引数を貼り付け) はmkdir した直後にcd する時に便利ですね。   環境 Windows 10 Insider Preview Build 20185 WSL (Ubuntu)    構築 データ格納用ディレクトリを作成    $ mkdir -p ~/man/ja/manl/  チートシート本体の作成  https://gist.github.com/ktkr3d/4ef437666cfbc0c9cec8f8e26d3b6d06    $HOME/man/ja/manl/shortcuts.l.\&quot; ~/man/ja/manl/shortcuts.l.TH SHORTCUTS &quot;1&quot; &quot;2020年8月&quot; &quot;shortcuts 0.1&quot; &quot;チートシート&quot;.SH 名称shortcuts \- Linux 端末キーボードショートカットのチートシート.SH Ctrl 系Ctrl+A     ...</div></div></div></a><a class="pagination-related" href="/2020/08/02/Extraterm/" title="Extraterm"><img class="cover" src="/images/extraterm_frame.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Extraterm</div></div><div class="info-2"><div class="info-item-1">https://extraterm.org/https://github.com/sedwards2009/extraterm Extraterm を使ってみました。シェル統合機能やカーソルモードが独特で良いです。   私の要件 Quake モード WSL 対応 背景の透過率設定 横分割 タブ テーマ マウスホイールで拡大縮小 できればローカライズhttps://github.com/sedwards2009/extraterm/issues/247  環境 Windows 10 Insider Preview Build 20180 Extraterm 0.52.0 WSL (Ubuntu)    構築 ダウンロード  https://github.com/sedwards2009/extraterm/releases  Assets からextraterm-setup-0.52.0.exe をダウンロード インストール  extraterm-setup-0.52.0.exe を実行  シェル統合機能の構築 ダウンロード  https://github.com/sedwards...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2022/10/22/Windows-11-WSL-2-systemd/" title="Windows 11 - WSL 2 - systemd"><img class="cover" src="/images/wsl2_systemd.drawio.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-22</div><div class="info-item-2">Windows 11 - WSL 2 - systemd</div></div><div class="info-2"><div class="info-item-1"> Windows 11 のWSL でsystemd を有効にしてみました。構成がすっきりしました。   環境まず、現在PC で構築しているサービスを整理します。 WSL で構築するサービス Pritunl (VPN、systemd で起動管理) Code-server (IDE、systemd で起動管理) Hexo (Blog、コマンドで実行)  Windows で構築するサービス EPGStation (番組表&#x2F;番組予約) Mirakurun (チューナ)  WSL 構築 systemd の有効化   設定/etc/wsl.conf[boot]systemd=true 一旦、WSL をシャットダウン(or 対象ディストリビューションをターミネート)   ポートフォワードの設定   PowerShell スクリプトwsl-proxy.ps1$WSL2_IPV4=bash -c &quot;ip route | grep &#x27;eth0 proto kernel scope&#x27; | cut -d &#x27; &#x27; -f9&quot;$HOST_I...</div></div></div></a><a class="pagination-related" href="/2023/12/02/Hexo-7-0-freemind/" title="Hexo 7.0 + Freemind + Travel"><img class="cover" src="/images/hexo-freemind-travel.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-02</div><div class="info-item-2">Hexo 7.0 + Freemind + Travel</div></div><div class="info-2"><div class="info-item-1">https://hexo.io/news/2023/11/03/hexo-7-0-0-released/https://github.com/wzpan/hexo-theme-freemind/https://github.com/ktkr3d/hexo-theme-freemind-travel Hexo 7.0 がリリースされたので新規に環境を構築してみよう。FreemindテーマとTravelカラーテーマを設定します。   環境 WSL(Ubuntu 22.04) on Windows 11 nodejs v20.10.0 npm 10.2.3 hexo 7.0.0  構築 Hexo 7.0のインストールhttps://hexo.io/  npm install hexo-cli -ghexo init blogcd blognpm install   Freemind テーマのインストールhttps://github.com/wzpan/hexo-theme-freemind  git clone https://github.com/wzpan/hexo-theme-f...</div></div></div></a><a class="pagination-related" href="/2016/12/30/My-Docker-Hexo/" title="My Docker Hexo"><img class="cover" src="/images/docker-hexo.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2016-12-30</div><div class="info-item-2">My Docker Hexo</div></div><div class="info-2"><div class="info-item-1">  https://github.com/ktkr3d/docker-hexo  Hexo をDocker Compose を使って動かしてみました。   Dockerfile の準備node:alpine をベースにテーマで使用するモジュール群と、Web から更新するためのhexo-adminを追加しています。 ./DockerfileFROM node:alpineMAINTAINER ktkr3d &lt;ktkr3d@gmail.com&gt;WORKDIR /hexoRUN \  apk add --no-cache git openssh-client \  &amp;&amp; npm install hexo-cli -g \  &amp;&amp; hexo init . \  &amp;&amp; npm install \  &amp;&amp; npm install hexo-generator-sitemap --save \  &amp;&amp; npm install hexo-generator-feed --save \  &amp;&amp...</div></div></div></a><a class="pagination-related" href="/2019/08/14/Hexo-App-Template-on-RPi4-64bit/" title="Hexo App Template"><img class="cover" src="/images/app-template-hexo.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2019-08-14</div><div class="info-item-2">Hexo App Template</div></div><div class="info-2"><div class="info-item-1">Portainer には41 個のApp Template が登録されていますが、独自に追加することもできるようになっています。App Template にHexo を追加してみました。 Portainer のApp Template には3種類あります。  Container (DockerHub) Swarm stack (Swarm) Compose stack (Compose)  Container 型でDockerHub のHexo をデプロイしようとしましたが、aarch64 の環境では失敗してしまいました。そのため、ローカルビルドするようなCompose 型スクリプトで登録することにしました。Raspberry Pi 4B 環境でデプロイが完了する迄に5分くらいかかりました。   環境 Raspberry Pi 4B Ubuntu Server 19.10 aarch64 Docker 19.03.1, build 74b1e89 Docker Compose 1.21.0 Portainer 1.22.0  Portainer の操作App Template の...</div></div></div></a><a class="pagination-related" href="/2020/01/17/Hexo-4-2-0/" title="Hexo 4.2.0"><img class="cover" src="https://hexo.io/icon/favicon-196x196.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2020-01-17</div><div class="info-item-2">Hexo 4.2.0</div></div><div class="info-2"><div class="info-item-1"> https://hexo.io/news/2019/12/22/hexo-4.2_hexo-util-1-8_eslint-config-hexo-released/ https://hexo.io/news/2019/12/24/how-we-make-hexo-30-percent-faster/  Hexo 4.2 が速いらしいのでWSL1&#x2F;WSL2 上に環境を構築してみました。確かに速い気がします。   環境 WSL1(Ubuntu 18.04) on Windows 10 WSL2(Ubuntu 18.04) on Windows 10 node v13.6.0 npm 6.13.4 git 2.17.1 hexo 4.2.0  構築node$ sudo apt update &amp;&amp; sudo apt upgrade$ sudo apt install nodejs npm$ sudo npm clean all$ sudo npm install n$ sudo n latest$ sudo ln -sf /usr/local/bin/nod...</div></div></div></a><a class="pagination-related" href="/2015/01/31/Octopress-to-Hexo/" title="Octopress to Hexo"><img class="cover" src="/images/hexo-logo.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2015-01-31</div><div class="info-item-2">Octopress to Hexo</div></div><div class="info-2"><div class="info-item-1"> http://hexo.io/http://hexo.io/docs/https://github.com/wzpan/hexo-theme-freemind ブログをOctopress からHexo に変更してみました。   node.js のインストール$ sudo apt-get install build-essential libssl-dev curl git$ git clone git://github.com/creationix/nvm.git ~/.nvm$ source ~/.nvm/nvm.sh$ nvm install v0.10  ~/.bashrc[[ -s &quot;$HOME/.nvm/nvm.sh&quot; ]] &amp;&amp; . &quot;$HOME/.nvm/nvm.sh&quot;nvm use v0.10 &gt; /dev/nullexport NODE_PATH=$&#123;NVM_PATH&#125;_modules  Hexo のインストール$ npm install -g hexo$ hexo init h...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comments</span></div></div><div class="comment-wrap"><div><div id="utterances-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">ktkr3d</div><div class="author-info-description">Memorandum</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">490</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">201</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">31</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/ktkr3d"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/ktkr3d" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="https://gist.github.com/ktkr3d" target="_blank" title="Gist"><i class="fas fa-code" style="color: #24292e;"></i></a><a class="social-icon" href="https://x.com/ktkr3d" target="_blank" title="X"><i class="fab fa-x-twitter" style="color: #24292e;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%92%B0%E5%A2%83"><span class="toc-number">1.</span> <span class="toc-text">環境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A7%8B%E7%AF%89"><span class="toc-number">2.</span> <span class="toc-text">構築</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E7%A7%BB%E8%A1%8C"><span class="toc-number">3.</span> <span class="toc-text">データの移行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#config-yml-%E3%81%AE%E6%9B%B4%E6%96%B0"><span class="toc-number">4.</span> <span class="toc-text">_config.yml の更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E3%81%A8%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4"><span class="toc-number">5.</span> <span class="toc-text">生成とデプロイ</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/29/oUF-MyLayout-Addon/" title="oUF MyLayout Addon">oUF MyLayout Addon</a><time datetime="2025-12-29T12:51:56.000Z" title="Created 2025-12-29 21:51:56">2025-12-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/21/Prism-Launcher/" title="Prism Launcher">Prism Launcher</a><time datetime="2025-12-21T12:31:02.000Z" title="Created 2025-12-21 21:31:02">2025-12-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/21/Systemd-user-timer/" title="Systemd user timer">Systemd user timer</a><time datetime="2025-12-20T18:59:19.000Z" title="Created 2025-12-21 03:59:19">2025-12-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/06/Faugus-Launcher/" title="Faugus Launcher">Faugus Launcher</a><time datetime="2025-12-06T06:14:20.000Z" title="Created 2025-12-06 15:14:20">2025-12-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/01/SDDM/" title="SDDM">SDDM</a><time datetime="2025-12-01T08:35:57.000Z" title="Created 2025-12-01 17:35:57">2025-12-01</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/images/travel.png);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2010 - 2026 By ktkr3d</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll to Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null
  const getUtterancesTheme = theme => theme === 'dark' ? 'photon-dark' : 'github-light'

  const loadUtterances = (el = document, key) => {
    if (isShuoshuo) {
      window.shuoshuoComment.destroyUtterances = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    const config = {
      src: 'https://utteranc.es/client.js',
      repo: 'ktkr3d/ktkr3d.github.io',
      theme: getUtterancesTheme(document.documentElement.getAttribute('data-theme')),
      crossorigin: 'anonymous',
      async: true,
      ...option,
      'issue-term': isShuoshuo ? key : (option && option['issue-term']) || 'pathname'
    }

    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => ele.setAttribute(key, value))
    el.querySelector('#utterances-wrap').appendChild(ele)
  }

  const changeUtterancesTheme = theme => {
    const iframe = document.querySelector('#utterances-wrap iframe')
    if (iframe) {
      const message = {
        type: 'set-theme',
        theme: getUtterancesTheme(theme)
      };
      iframe.contentWindow.postMessage(message, 'https://utteranc.es')
    }
  }

  btf.addGlobalFn('themeChange', changeUtterancesTheme, 'utterances')

  if (isShuoshuo) {
    'Utterances' === 'Utterances'
      ? window.shuoshuoComment = { loadComment: loadUtterances }
      : window.loadOtherComment = loadUtterances
    return
  }
  
  if ('Utterances' === 'Utterances' || !false) {
    if (false) btf.loadComment(document.getElementById('utterances-wrap'), loadUtterances)
    else loadUtterances()
  } else {
    window.loadOtherComment = loadUtterances
  }
})()</script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="local-search-input"><input placeholder="Search for Posts" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>